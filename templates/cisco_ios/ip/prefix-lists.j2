{% if 'prefix_lists' in vars['ip'] %}
{% for prefix_list in vars['ip']['prefix_lists'] %}
{% if 'description' in vars['ip']['prefix_lists'][prefix_list] %}
- parents:
  lines:
  - ip prefix-list {{ vars['ip']['prefix_lists'][prefix_list]['name'] }} description {{ vars['ip']['prefix_lists'][prefix_list]['description'] }}
{% endif %}
{% for entry in vars['ip']['prefix_lists'][prefix_list]['entries'] %}
- parents:
  lines:
  {% if 'le_bits' in entry and 'ge_bits' in entry -%}
  - ip prefix-list {{ vars['ip']['prefix_lists'][prefix_list]['name'] }} seq {{ entry['sequence'] }} {{ entry['action'] }} {{ entry['network'] }}/{{ entry['netmask'] }} ge {{ entry['ge_bits'] }} le {{ entry['le_bits'] }}
  {% elif 'le_bits' in entry -%}
  - ip prefix-list {{ vars['ip']['prefix_lists'][prefix_list]['name'] }} seq {{ entry['sequence'] }} {{ entry['action'] }} {{ entry['network'] }}/{{ entry['netmask'] }} le {{ entry['le_bits'] }}
  {% else -%}
  - ip prefix-list {{ vars['ip']['prefix_lists'][prefix_list]['name'] }} seq {{ entry['sequence'] }} {{ entry['action'] }} {{ entry['network'] }}/{{ entry['netmask'] }}
  {% endif -%}
{% endfor %}
{% endfor %}
{% endif %}